<!DOCTYPE html>
<html>
  <head>
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="jquery-csv.js"></script>
    
    <script type="text/javascript">
      google.charts.load('current', {
        'packages':['map'],
        'mapsApiKey': 'AIzaSyBjsoPdQEI5_QzsjKuz42jpCkeV4gJLjyE'
      });
      google.charts.setOnLoadCallback(readFile);
      
      function readFile() {
        filename = "newyork.csv";
        $.get(filename, function(csvString) {
          // read a .csv file and save the data in arrayData variable
          var arrayData = $.csv.toArrays(csvString, {onParseValue: $.csv.hooks.castToScalar});
          // send arrayData to 'draw' function
          drawChart(arrayData)
        });
      };
      
      function drawChart(arrayData){
        var data = google.visualization.arrayToDataTable(arrayData);
        
        var options = {
          zoomLevel:12,
          showTooltip: false,
          showInfoWindow: true,
          useMapTypeControl: false,
          mapType: 'hybrid',
          mapTypeIds: ['normal', 'terrain', 'satellite', 'hybrid'],
        };
        
        var chart = new google.visualization.Map(document.getElementById('chart_div'));
        
        chart.draw(data,options);
      }
    </script>
  </head>
  <body>
    <div id = "introduction" style = "max-width: 800px; font-family: Verdana, Dotum; margin: auto; padding-bottom: 30px">
      <h1> The Places you should visit in New York </h1>
      <p> date: 2019-12-04 </p>
      <p> name: Nuri Na (21600202) </p>
      <p> Introduction: This map contains the location information of the great places in New York.</p>
      <p> Data: The data(longitude, latitude) is from the google map </p>
      <p> nanull2.github.io/hw/HW5_Maps.html</p>
      </div>
     <script src="https://www.gstatic.com/charts/loader.js"></script>
   <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
   <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-csv/0.71/jquery.csv-0.71.min.js"></script>
      <div id="chart_div" style="width: 900px; height: 500px;"></div>
  </body>
</html>
